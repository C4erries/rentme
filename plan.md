## Общий план развития Rentme (15 задач)

Краткая дорожная карта по выводу учебного маркетплейса аренды жилья (краткосрочная и долгосрочная аренда) в стабильное состояние.

### Статус
- [x] 1) Listing: доменная модель и UX мастера
- [x] 2) ML pricing: short_term/long_term и интеграция в backend
- [x] 3) Фото: загрузка через S3/MinIO end-to-end
- [x] 4) Бронирование: создание брони и UX для гостя
- [x] 5) Лендинг и отзывы: рабочие страницы и отзывы end-to-end
- [x] 6) Мессенджер: gRPC + ScyllaDB, интеграция с backend
- [x] 7) Уведомления: минимальные оповещения без Kafka
- [x] 8) Админка: список пользователей, админ-чат, метрики ML
- [x] 9) Docker Compose: все сервисы через compose, Kafka убрана
- [x] 10) Полировка: тексты, логи, UX, документация
- [ ] 11) Личный кабинет гостя: финальные правки и проверки (опционально)
- [x] 12) Переключатель типа аренды в каталоге (short_term/long_term) и фильтрация
- [x] 13) Цена/единица тарифа: отображение "ночь/месяц", совместимость nightly_rate_cents
- [ ] 14) UX улучшения и финальные правки (stretch)
- [ ] 15) Адекватизация ML-цены: нормализация города + клампы + пересборка датасетов

### 15) Адекватизация ML-цены
- Нормализовать поле города до канона (минимум `Москва`, `Краснодар`): приводить регистр/пробелы и маппить варианты `Краснодар`, `Краснодар `, `краснодар`, `Krasnodar` -> `Краснодар` (аналогично для `Москва`/`Moscow`).
- Проверить единицы измерения на всём пути: CSV -> обучение -> ответ ML -> backend (рубли/копейки), отдельно для `short_term` (за ночь) и `long_term` (за месяц).
- Привести датасеты к реалистичным диапазонам по городам (Москва/Краснодар) и типам аренды, чтобы модель не училась на "копеечных" примерах.
- Добавить post-processing в backend для демо: "кламп" минимальной цены после ответа ML (конфигурируемые пороги по `city` и `rental_term`) + логирование факта клампа и понятный `message` в ответе.
- Быстрая валидация перед показом: несколько эталонных профилей квартир (например, 20-60 м2, 1-3 комнаты, 0-10 ремонт) и проверка, что прогнозы попадают в разумный коридор.
